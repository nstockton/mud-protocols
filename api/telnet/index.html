
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="MUD Protocols Main Page">
      
      
      
        <meta name="author" content="Nick Stockton">
      
      
        <link rel="canonical" href="https://nstockton.github.io/mud-protocols/api/telnet/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.5">
    
    
      
        <title>telnet.py - MUD Protocols</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.be71726b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mudproto.telnet" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MUD Protocols" class="md-header__button md-logo" aria-label="MUD Protocols" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MUD Protocols
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              telnet.py
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/nstockton/mud-protocols/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    nstockton/mud-protocols
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MUD Protocols" class="md-nav__button md-logo" aria-label="MUD Protocols" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    MUD Protocols
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/nstockton/mud-protocols/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    nstockton/mud-protocols
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        API Index
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        API Navigation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API Navigation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API Navigation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../base/" class="md-nav__link">
        base.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../charset/" class="md-nav__link">
        charset.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../manager/" class="md-nav__link">
        manager.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mccp/" class="md-nav__link">
        mccp.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../mpi/" class="md-nav__link">
        mpi.py
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          telnet.py
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        telnet.py
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol" class="md-nav__link">
    BaseTelnetProtocol
  </a>
  
    <nav class="md-nav" aria-label="BaseTelnetProtocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_connectionLost" class="md-nav__link">
    on_connectionLost()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_connectionMade" class="md-nav__link">
    on_connectionMade()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_dataReceived" class="md-nav__link">
    on_dataReceived()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_disableLocal" class="md-nav__link">
    on_disableLocal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_disableRemote" class="md-nav__link">
    on_disableRemote()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_enableLocal" class="md-nav__link">
    on_enableLocal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_enableRemote" class="md-nav__link">
    on_enableRemote()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_unhandledCommand" class="md-nav__link">
    on_unhandledCommand()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_unhandledSubnegotiation" class="md-nav__link">
    on_unhandledSubnegotiation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.write" class="md-nav__link">
    write()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetError" class="md-nav__link">
    TelnetError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol" class="md-nav__link">
    TelnetProtocol
  </a>
  
    <nav class="md-nav" aria-label="TelnetProtocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.state" class="md-nav__link">
    state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.states" class="md-nav__link">
    states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.do" class="md-nav__link">
    do()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.dont" class="md-nav__link">
    dont()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.getOptionState" class="md-nav__link">
    getOptionState()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_command" class="md-nav__link">
    on_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_connectionLost" class="md-nav__link">
    on_connectionLost()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_connectionMade" class="md-nav__link">
    on_connectionMade()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_dataReceived" class="md-nav__link">
    on_dataReceived()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_disableLocal" class="md-nav__link">
    on_disableLocal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_disableRemote" class="md-nav__link">
    on_disableRemote()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_do" class="md-nav__link">
    on_do()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_dont" class="md-nav__link">
    on_dont()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_enableLocal" class="md-nav__link">
    on_enableLocal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_enableRemote" class="md-nav__link">
    on_enableRemote()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_subnegotiation" class="md-nav__link">
    on_subnegotiation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_unhandledCommand" class="md-nav__link">
    on_unhandledCommand()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_unhandledSubnegotiation" class="md-nav__link">
    on_unhandledSubnegotiation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_will" class="md-nav__link">
    on_will()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_wont" class="md-nav__link">
    on_wont()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.requestNegotiation" class="md-nav__link">
    requestNegotiation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.will" class="md-nav__link">
    will()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.wont" class="md-nav__link">
    wont()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.write" class="md-nav__link">
    write()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        utils.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../xml/" class="md-nav__link">
        xml.py
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol" class="md-nav__link">
    BaseTelnetProtocol
  </a>
  
    <nav class="md-nav" aria-label="BaseTelnetProtocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_connectionLost" class="md-nav__link">
    on_connectionLost()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_connectionMade" class="md-nav__link">
    on_connectionMade()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_dataReceived" class="md-nav__link">
    on_dataReceived()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_disableLocal" class="md-nav__link">
    on_disableLocal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_disableRemote" class="md-nav__link">
    on_disableRemote()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_enableLocal" class="md-nav__link">
    on_enableLocal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_enableRemote" class="md-nav__link">
    on_enableRemote()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_unhandledCommand" class="md-nav__link">
    on_unhandledCommand()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.on_unhandledSubnegotiation" class="md-nav__link">
    on_unhandledSubnegotiation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.BaseTelnetProtocol.write" class="md-nav__link">
    write()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetError" class="md-nav__link">
    TelnetError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol" class="md-nav__link">
    TelnetProtocol
  </a>
  
    <nav class="md-nav" aria-label="TelnetProtocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.state" class="md-nav__link">
    state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.states" class="md-nav__link">
    states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.do" class="md-nav__link">
    do()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.dont" class="md-nav__link">
    dont()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.getOptionState" class="md-nav__link">
    getOptionState()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_command" class="md-nav__link">
    on_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_connectionLost" class="md-nav__link">
    on_connectionLost()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_connectionMade" class="md-nav__link">
    on_connectionMade()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_dataReceived" class="md-nav__link">
    on_dataReceived()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_disableLocal" class="md-nav__link">
    on_disableLocal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_disableRemote" class="md-nav__link">
    on_disableRemote()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_do" class="md-nav__link">
    on_do()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_dont" class="md-nav__link">
    on_dont()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_enableLocal" class="md-nav__link">
    on_enableLocal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_enableRemote" class="md-nav__link">
    on_enableRemote()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_subnegotiation" class="md-nav__link">
    on_subnegotiation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_unhandledCommand" class="md-nav__link">
    on_unhandledCommand()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_unhandledSubnegotiation" class="md-nav__link">
    on_unhandledSubnegotiation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_will" class="md-nav__link">
    on_will()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.on_wont" class="md-nav__link">
    on_wont()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.requestNegotiation" class="md-nav__link">
    requestNegotiation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.will" class="md-nav__link">
    will()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.wont" class="md-nav__link">
    wont()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mudproto.telnet.TelnetProtocol.write" class="md-nav__link">
    write()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nstockton/mud-protocols/blob/master/docs/api/telnet.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <div class="doc doc-object doc-module">



<h1 class="doc doc-heading" id="mudproto.telnet">
        <code>Module mudproto.telnet</code>



<a class="headerlink" href="#mudproto.telnet" title="Permanent link">&para;</a></h1>

    <div class="doc doc-contents first">

      <p>Telnet protocol.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol">
        <code>Class BaseTelnetProtocol</code>



<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">





  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol.on_connectionLost">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_connectionLost</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol.on_connectionLost" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called by <code>disconnect</code> when a connection to peer has been lost.</p>

        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">on_connectionLost</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;Called by `disconnect` when a connection to peer has been lost.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol.on_connectionMade">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_connectionMade</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol.on_connectionMade" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called by <code>connect</code> when a connection to peer has been established.</p>

        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">on_connectionMade</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;Called by `connect` when a connection to peer has been established.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol.on_dataReceived">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_dataReceived</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol.on_dataReceived" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called by <code>parse</code> when data is received.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data</code></td>
        <td><code>bytes</code></td>
        <td><p>The received data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_dataReceived</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">_receiver</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol.on_disableLocal">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_disableLocal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol.on_disableLocal" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Disables a locally managed option.</p>
<p>This method is called before we disable a locally enabled option, in order to perform any necessary cleanup.</p>
<div class="admonition note">
<p class="admonition-title">Note<p>If on_enableLocal is overridden, this method must be overridden as well.</p>
</p>
</div>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option being disabled.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">on_disableLocal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Disables a locally managed option.</span>

<span class="sd">	This method is called before we disable a locally enabled option, in order to perform any necessary cleanup.</span>

<span class="sd">	Note:</span>
<span class="sd">		If on_enableLocal is overridden, this method must be overridden as well.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The option being disabled.</span>
<span class="sd">	&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol.on_disableRemote">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_disableRemote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol.on_disableRemote" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Disables a remotely managed option.</p>
<p>This method is called when peer disables a remotely enabled option,
in order to perform any necessary cleanup on our end.</p>
<div class="admonition note">
<p class="admonition-title">Note<p>If on_enableRemote is overridden, this method must be overridden as well.</p>
</p>
</div>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option being disabled.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">on_disableRemote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Disables a remotely managed option.</span>

<span class="sd">	This method is called when peer disables a remotely enabled option,</span>
<span class="sd">	in order to perform any necessary cleanup on our end.</span>

<span class="sd">	Note:</span>
<span class="sd">		If on_enableRemote is overridden, this method must be overridden as well.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The option being disabled.</span>
<span class="sd">	&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol.on_enableLocal">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_enableLocal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol.on_enableLocal" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called to accept or reject the request for us to manage the option.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option that peer requests us to handle.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if we will handle the option, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">on_enableLocal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Called to accept or reject the request for us to manage the option.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The option that peer requests us to handle.</span>

<span class="sd">	Returns:</span>
<span class="sd">		True if we will handle the option, False otherwise.</span>
<span class="sd">	&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol.on_enableRemote">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_enableRemote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol.on_enableRemote" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called to accept or reject the request for peer to manage the option.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option that peer wants to handle.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if we will allow peer to handle the option, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">on_enableRemote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Called to accept or reject the request for peer to manage the option.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The option that peer wants to handle.</span>

<span class="sd">	Returns:</span>
<span class="sd">		True if we will allow peer to handle the option, False otherwise.</span>
<span class="sd">	&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol.on_unhandledCommand">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_unhandledCommand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol.on_unhandledCommand" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called for commands for which no handler is installed.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>command</code></td>
        <td><code>bytes</code></td>
        <td><p>The first byte in a 1 or 2 byte negotiation sequence.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>option</code></td>
        <td><code>Union[bytes, None]</code></td>
        <td><p>The second byte in a 2 byte negotiation sequence or None.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">on_unhandledCommand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Called for commands for which no handler is installed.</span>

<span class="sd">	Args:</span>
<span class="sd">		command: The first byte in a 1 or 2 byte negotiation sequence.</span>
<span class="sd">		option: The second byte in a 2 byte negotiation sequence or None.</span>
<span class="sd">	&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol.on_unhandledSubnegotiation">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_unhandledSubnegotiation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol.on_unhandledSubnegotiation" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called for subnegotiations for which no handler is installed.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The subnegotiation option.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>bytes</code></td>
        <td><p>The payload.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">on_unhandledSubnegotiation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Called for subnegotiations for which no handler is installed.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The subnegotiation option.</span>
<span class="sd">		data: The payload.</span>
<span class="sd">	&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.BaseTelnetProtocol.write">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mudproto.telnet.BaseTelnetProtocol.write" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Writes data to peer.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data</code></td>
        <td><code>bytes</code></td>
        <td><p>The bytes to be written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">_writer</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="mudproto.telnet.TelnetError">
        <code>Class TelnetError</code>



<a class="headerlink" href="#mudproto.telnet.TelnetError" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Implements the base class for Telnet exceptions.</p>



    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol">
        <code>Class TelnetProtocol</code>



<a class="headerlink" href="#mudproto.telnet.TelnetProtocol" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Implements the Telnet protocol.</p>

<p><strong>Attributes:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>commandMap</code></td>
        <td><code>Dict[bytes, Callable[[Union[bytes, None]], None]]</code></td>
        <td><p>A mapping of bytes to callables.
When a Telnet command is received, the command byte
(the first byte after IAC) is looked up in this dictionary.
If a callable is found, it is invoked with the argument of the command,
or None if the command takes no argument.  Values should be added to
this dictionary if commands wish to be handled.  By default,
only WILL, WONT, DO, and DONT are handled.  These should not
be overridden, as this class handles them correctly and
provides an API for interacting with them.</p></td>
      </tr>
      <tr>
        <td><code>subnegotiationMap</code></td>
        <td><code>Dict[bytes, Callable[[bytes], None]]</code></td>
        <td><p>A mapping of bytes to callables.
When a subnegotiation command is received, the option byte (the
first byte after SB) is looked up in this dictionary.  If
a callable is found, it is invoked with the argument of the
subnegotiation.  Values should be added to this dictionary if
subnegotiations are to be handled.  By default, no values are
handled.</p></td>
      </tr>
  </tbody>
</table>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.state">
<code class="codehilite language-python"><span class="n">Attribute</span> <span class="n">state</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.state" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>The state of the state machine.</p>
<p>Valid values are in <code>states</code>.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.states">
<code class="codehilite language-python"><span class="n">Attribute</span> <span class="n">states</span><span class="p">:</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.states" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Valid states for the state machine.</p>
    </div>

  </div>







  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.do">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">do</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.do" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Requests that the peer enable an option.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option to enable.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">do</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Requests that the peer enable an option.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The option to enable.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOptionState</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="ow">or</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
			<span class="sa">f</span><span class="s2">&quot;We are requesting that peer enable option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">, but the option is &quot;</span>
			<span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;already being negotiated by </span><span class="si">{</span><span class="s1">&#39;us&#39;</span> <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="k">else</span> <span class="s1">&#39;peer&#39;</span><span class="si">}</span><span class="s2">.&quot;</span>
		<span class="p">)</span>
	<span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span><span class="p">:</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Requesting that peer enable an already enabled option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_do</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.dont">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">dont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.dont" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Requests that the peer disable an option.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option to disable.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">dont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Requests that the peer disable an option.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The option to disable.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOptionState</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="ow">or</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
			<span class="sa">f</span><span class="s2">&quot;We are requesting that peer disable option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">, but the option is &quot;</span>
			<span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;already being negotiated by </span><span class="si">{</span><span class="s1">&#39;us&#39;</span> <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="k">else</span> <span class="s1">&#39;peer&#39;</span><span class="si">}</span><span class="s2">.&quot;</span>
		<span class="p">)</span>
	<span class="k">elif</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span><span class="p">:</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Requesting that peer disable an already disabled option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_dont</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.getOptionState">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">getOptionState</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.getOptionState" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Gets the state of a Telnet option.</p>

<p><strong>Returns:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>_OptionState</code></td>
      <td><p>An object containing the option state.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">getOptionState</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_OptionState</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Gets the state of a Telnet option.</span>

<span class="sd">	Returns:</span>
<span class="sd">		An object containing the option state.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">option</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">:</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">[</span><span class="n">option</span><span class="p">]</span> <span class="o">=</span> <span class="n">_OptionState</span><span class="p">()</span>
	<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">[</span><span class="n">option</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_command">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_command" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called when a 1 or 2 byte command is received.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>command</code></td>
        <td><code>bytes</code></td>
        <td><p>The first byte in a 1 or 2 byte negotiation sequence.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>option</code></td>
        <td><code>Union[bytes, None]</code></td>
        <td><p>The second byte in a 2 byte negotiation sequence or None.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Called when a 1 or 2 byte command is received.</span>

<span class="sd">	Args:</span>
<span class="sd">		command: The first byte in a 1 or 2 byte negotiation sequence.</span>
<span class="sd">		option: The second byte in a 2 byte negotiation sequence or None.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">commandMap</span><span class="p">:</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">commandMap</span><span class="p">[</span><span class="n">command</span><span class="p">](</span><span class="n">option</span><span class="p">)</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">on_unhandledCommand</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_connectionLost">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_connectionLost</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_connectionLost" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called by <code>disconnect</code> when a connection to peer has been lost.</p>

        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_connectionLost</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_connectionMade">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_connectionMade</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_connectionMade" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called by <code>connect</code> when a connection to peer has been established.</p>

        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_connectionMade</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_dataReceived">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_dataReceived</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_dataReceived" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called by <code>parse</code> when data is received.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data</code></td>
        <td><code>bytes</code></td>
        <td><p>The received data.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_dataReceived</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># NOQA: C901</span>
	<span class="n">appDataBuffer</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">while</span> <span class="n">data</span><span class="p">:</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span>
			<span class="n">appData</span><span class="p">,</span> <span class="n">separator</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="n">IAC</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">separator</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;command&quot;</span>
			<span class="k">elif</span> <span class="n">appData</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">CR</span><span class="p">):</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;newline&quot;</span>
				<span class="n">appData</span> <span class="o">=</span> <span class="n">appData</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
			<span class="n">appDataBuffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">appData</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">CR_LF</span><span class="p">,</span> <span class="n">LF</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">CR_NULL</span><span class="p">,</span> <span class="n">CR</span><span class="p">))</span>
			<span class="k">continue</span>
		<span class="n">byte</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:</span><span class="mi">1</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;command&quot;</span><span class="p">:</span>
			<span class="k">if</span> <span class="n">byte</span> <span class="o">==</span> <span class="n">IAC</span><span class="p">:</span>
				<span class="c1"># Escaped IAC.</span>
				<span class="n">appDataBuffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">byte</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
			<span class="k">elif</span> <span class="n">byte</span> <span class="o">==</span> <span class="n">SE</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
				<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;IAC SE received outside of subnegotiation.&quot;</span><span class="p">)</span>
			<span class="k">elif</span> <span class="n">byte</span> <span class="o">==</span> <span class="n">SB</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;subnegotiation&quot;</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_commands</span> <span class="o">=</span> <span class="p">[]</span>
			<span class="k">elif</span> <span class="n">byte</span> <span class="ow">in</span> <span class="n">COMMAND_BYTES</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
				<span class="k">if</span> <span class="n">appDataBuffer</span><span class="p">:</span>
					<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_dataReceived</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">appDataBuffer</span><span class="p">))</span>
					<span class="n">appDataBuffer</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
				<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Received from peer: IAC </span><span class="si">{</span><span class="n">DESCRIPTIONS</span><span class="p">[</span><span class="n">byte</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">on_command</span><span class="p">(</span><span class="n">byte</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
			<span class="k">elif</span> <span class="n">byte</span> <span class="ow">in</span> <span class="n">NEGOTIATION_BYTES</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;negotiation&quot;</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_command</span> <span class="o">=</span> <span class="n">byte</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
				<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown Telnet command received </span><span class="si">{</span><span class="n">byte</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>
		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;negotiation&quot;</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
			<span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span>
			<span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span>
			<span class="k">if</span> <span class="n">appDataBuffer</span><span class="p">:</span>
				<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_dataReceived</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">appDataBuffer</span><span class="p">))</span>
				<span class="n">appDataBuffer</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
			<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
				<span class="sa">f</span><span class="s2">&quot;Received from peer: IAC </span><span class="si">{</span><span class="n">DESCRIPTIONS</span><span class="p">[</span><span class="n">command</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">DESCRIPTIONS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">byte</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">byte</span><span class="p">))</span><span class="si">}</span><span class="s2">&quot;</span>
			<span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">on_command</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">byte</span><span class="p">)</span>
		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;newline&quot;</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
			<span class="k">if</span> <span class="n">byte</span> <span class="o">==</span> <span class="n">LF</span><span class="p">:</span>
				<span class="n">appDataBuffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">byte</span><span class="p">)</span>
			<span class="k">elif</span> <span class="n">byte</span> <span class="o">==</span> <span class="n">NULL</span><span class="p">:</span>
				<span class="n">appDataBuffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CR</span><span class="p">)</span>
			<span class="k">elif</span> <span class="n">byte</span> <span class="o">==</span> <span class="n">IAC</span><span class="p">:</span>
				<span class="c1"># IAC isn&#39;t really allowed after CR, according to the</span>
				<span class="c1"># RFC, but handling it this way is less surprising than</span>
				<span class="c1"># delivering the IAC to the app as application data.</span>
				<span class="c1"># The purpose of the restriction is to allow terminals</span>
				<span class="c1"># to unambiguously interpret the behavior of the CR</span>
				<span class="c1"># after reading only one more byte.  CR + LF is supposed</span>
				<span class="c1"># to mean one thing (cursor to next line, first column),</span>
				<span class="c1"># CR + NUL another (cursor to first column).  Absent the</span>
				<span class="c1"># NUL, it still makes sense to interpret this as CR and</span>
				<span class="c1"># then apply all the usual interpretation to the IAC.</span>
				<span class="n">appDataBuffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CR</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;command&quot;</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">appDataBuffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CR</span> <span class="o">+</span> <span class="n">byte</span><span class="p">)</span>
		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;subnegotiation&quot;</span><span class="p">:</span>
			<span class="k">if</span> <span class="n">byte</span> <span class="o">==</span> <span class="n">IAC</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;subnegotiation-escaped&quot;</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">byte</span><span class="p">)</span>
		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;subnegotiation-escaped&quot;</span><span class="p">:</span>
			<span class="k">if</span> <span class="n">byte</span> <span class="o">==</span> <span class="n">SE</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
				<span class="n">commands</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="p">)</span>
				<span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commands</span>
				<span class="k">if</span> <span class="n">appDataBuffer</span><span class="p">:</span>
					<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_dataReceived</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">appDataBuffer</span><span class="p">))</span>
					<span class="n">appDataBuffer</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
				<span class="n">option</span><span class="p">,</span> <span class="n">commands</span> <span class="o">=</span> <span class="n">commands</span><span class="p">[:</span><span class="mi">1</span><span class="p">],</span> <span class="n">commands</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
				<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
					<span class="sa">f</span><span class="s2">&quot;Received from peer: IAC SB </span><span class="si">{</span><span class="n">DESCRIPTIONS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">option</span><span class="p">))</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">commands</span><span class="si">!r}</span><span class="s2"> IAC SE&quot;</span>
				<span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">on_subnegotiation</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">commands</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;subnegotiation&quot;</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">byte</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid Telnet state </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="si">!r}</span><span class="s2">. How&#39;d you do this?&quot;</span><span class="p">)</span>
			<span class="n">appDataBuffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">byte</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
	<span class="k">if</span> <span class="n">appDataBuffer</span><span class="p">:</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_dataReceived</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">appDataBuffer</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_disableLocal">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_disableLocal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_disableLocal" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Disables a locally managed option.</p>
<p>This method is called before we disable a locally enabled option, in order to perform any necessary cleanup.</p>
<div class="admonition note">
<p class="admonition-title">Note<p>If on_enableLocal is overridden, this method must be overridden as well.</p>
</p>
</div>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option being disabled.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_disableLocal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Don&#39;t know how to disable local Telnet option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_disableRemote">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_disableRemote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_disableRemote" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Disables a remotely managed option.</p>
<p>This method is called when peer disables a remotely enabled option,
in order to perform any necessary cleanup on our end.</p>
<div class="admonition note">
<p class="admonition-title">Note<p>If on_enableRemote is overridden, this method must be overridden as well.</p>
</p>
</div>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option being disabled.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_disableRemote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Don&#39;t know how to disable remote Telnet option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_do">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_do</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_do" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called when an IAC + DO + option is received.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>Union[bytes, None]</code></td>
        <td><p>The received option.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_do</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Called when an IAC + DO + option is received.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The received option.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">option</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
		<span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s2">&quot;Option must not be None in this context.&quot;</span><span class="p">)</span>
	<span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOptionState</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer is unilaterally requesting that we enable an option.</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_enableLocal</span><span class="p">(</span><span class="n">option</span><span class="p">):</span>
			<span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">True</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_will</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_wont</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">elif</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer agreed to allow us to enable an option at our request.</span>
		<span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">on_enableLocal</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer is unilaterally requesting us to enable an already-enabled option.</span>
		<span class="c1"># Ignore this.</span>
		<span class="k">pass</span>
	<span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># This is a bogus state.  It is here for completeness.  It will never be</span>
		<span class="c1"># entered.</span>
		<span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span>
			<span class="sa">f</span><span class="s2">&quot;us.enabled and us.negotiating cannot be True at the same time. state: </span><span class="si">{</span><span class="n">state</span><span class="si">!r}</span><span class="s2">, option: </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">&quot;</span>
		<span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_dont">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_dont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_dont" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called when an IAC + DONT + option is received.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>Union[bytes, None]</code></td>
        <td><p>The received option.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_dont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Called when an IAC + DONT + option is received.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The received option.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">option</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
		<span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s2">&quot;Option must not be None in this context.&quot;</span><span class="p">)</span>
	<span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOptionState</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer is unilaterally demanding us to disable an already-disabled option.</span>
		<span class="c1"># Ignore this.</span>
		<span class="k">pass</span>
	<span class="k">elif</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Offered option was refused.</span>
		<span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Peer rejects our offer to enable option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>
	<span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer is unilaterally demanding we disable an option.</span>
		<span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">on_disableLocal</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_wont</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer acknowledged our notice that we will disable an option.</span>
		<span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">on_disableLocal</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_enableLocal">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_enableLocal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_enableLocal" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called to accept or reject the request for us to manage the option.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option that peer requests us to handle.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if we will handle the option, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_enableLocal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
	<span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Reject all options by default.</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_enableRemote">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_enableRemote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_enableRemote" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called to accept or reject the request for peer to manage the option.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option that peer wants to handle.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if we will allow peer to handle the option, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_enableRemote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
	<span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Reject all options by default.</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_subnegotiation">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_subnegotiation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_subnegotiation" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called when a subnegotiation is received.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The subnegotiation option.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>bytes</code></td>
        <td><p>The payload.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_subnegotiation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Called when a subnegotiation is received.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The subnegotiation option.</span>
<span class="sd">		data: The payload.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subnegotiationMap</span><span class="p">:</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">subnegotiationMap</span><span class="p">[</span><span class="n">option</span><span class="p">](</span><span class="n">data</span><span class="p">)</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">on_unhandledSubnegotiation</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_unhandledCommand">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_unhandledCommand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_unhandledCommand" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called for commands for which no handler is installed.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>command</code></td>
        <td><code>bytes</code></td>
        <td><p>The first byte in a 1 or 2 byte negotiation sequence.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>option</code></td>
        <td><code>Union[bytes, None]</code></td>
        <td><p>The second byte in a 2 byte negotiation sequence or None.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_unhandledCommand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_unhandledSubnegotiation">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_unhandledSubnegotiation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_unhandledSubnegotiation" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called for subnegotiations for which no handler is installed.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The subnegotiation option.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>bytes</code></td>
        <td><p>The payload.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_unhandledSubnegotiation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_will">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_will</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_will" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called when an IAC + WILL + option is received.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>Union[bytes, None]</code></td>
        <td><p>The received option.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_will</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Called when an IAC + WILL + option is received.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The received option.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">option</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
		<span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s2">&quot;Option must not be None in this context.&quot;</span><span class="p">)</span>
	<span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOptionState</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer is unilaterally offering to enable an option.</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_enableRemote</span><span class="p">(</span><span class="n">option</span><span class="p">):</span>
			<span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">True</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_do</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">_dont</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">elif</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer agreed to enable an option in response to our request.</span>
		<span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_enableRemote</span><span class="p">(</span><span class="n">option</span><span class="p">):</span>
			<span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;enableRemote must return True in this context (for option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">)&quot;</span><span class="p">)</span>
	<span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer is unilaterally offering to enable an already-enabled option.</span>
		<span class="c1"># Ignore this.</span>
		<span class="k">pass</span>
	<span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># This is a bogus state.  It is here for completeness.  It will</span>
		<span class="c1"># never be entered.</span>
		<span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span>
			<span class="sa">f</span><span class="s2">&quot;him.enabled and him.negotiating cannot be True at the same time. state: </span><span class="si">{</span><span class="n">state</span><span class="si">!r}</span><span class="s2">, option: </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">&quot;</span>
		<span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.on_wont">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">on_wont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.on_wont" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Called when an IAC + WONT + option is received.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>Union[bytes, None]</code></td>
        <td><p>The received option.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">on_wont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Called when an IAC + WONT + option is received.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The received option.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">if</span> <span class="n">option</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
		<span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s2">&quot;Option must not be None in this context.&quot;</span><span class="p">)</span>
	<span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOptionState</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer is unilaterally demanding that an already-disabled option be/remain disabled.</span>
		<span class="c1"># Ignore this (although we could record it and refuse subsequent enable attempts</span>
		<span class="c1"># from our side, peer could refuse them again, so we won&#39;t).</span>
		<span class="k">pass</span>
	<span class="k">elif</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer refused to enable an option in response to our request.</span>
		<span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Peer refuses to enable option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2"> in response to our request.&quot;</span><span class="p">)</span>
	<span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer is unilaterally demanding that an option be disabled.</span>
		<span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">on_disableRemote</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_dont</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="ow">and</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="c1"># Peer agreed to disable an option at our request.</span>
		<span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span> <span class="o">=</span> <span class="kc">False</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">on_disableRemote</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.requestNegotiation">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">requestNegotiation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.requestNegotiation" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Sends a subnegotiation message to the peer.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The subnegotiation option.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>bytes</code></td>
        <td><p>The payload.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">requestNegotiation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Sends a subnegotiation message to the peer.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The subnegotiation option.</span>
<span class="sd">		data: The payload.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">IAC</span> <span class="o">+</span> <span class="n">SB</span> <span class="o">+</span> <span class="n">option</span> <span class="o">+</span> <span class="n">escapeIAC</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> <span class="n">IAC</span> <span class="o">+</span> <span class="n">SE</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.will">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">will</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.will" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Indicates our willingness to enable an option.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option to accept.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">will</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Indicates our willingness to enable an option.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The option to accept.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOptionState</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="ow">or</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
			<span class="sa">f</span><span class="s2">&quot;We are offering to enable option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">, but the option is &quot;</span>
			<span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;already being negotiated by </span><span class="si">{</span><span class="s1">&#39;us&#39;</span> <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="k">else</span> <span class="s1">&#39;peer&#39;</span><span class="si">}</span><span class="s2">.&quot;</span>
		<span class="p">)</span>
	<span class="k">elif</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span><span class="p">:</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempting to enable an already enabled option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_will</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.wont">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">wont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span></code>


<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.wont" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Indicates we are not willing to enable an option.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>option</code></td>
        <td><code>bytes</code></td>
        <td><p>The option to reject.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">wont</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Indicates we are not willing to enable an option.</span>

<span class="sd">	Args:</span>
<span class="sd">		option: The option to reject.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getOptionState</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="ow">or</span> <span class="n">state</span><span class="o">.</span><span class="n">him</span><span class="o">.</span><span class="n">negotiating</span><span class="p">:</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
			<span class="sa">f</span><span class="s2">&quot;We are refusing to enable option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">, but the option is &quot;</span>
			<span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;already being negotiated by </span><span class="si">{</span><span class="s1">&#39;us&#39;</span> <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="k">else</span> <span class="s1">&#39;peer&#39;</span><span class="si">}</span><span class="s2">.&quot;</span>
		<span class="p">)</span>
	<span class="k">elif</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">enabled</span><span class="p">:</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempting to disable an already disabled option </span><span class="si">{</span><span class="n">option</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="n">state</span><span class="o">.</span><span class="n">us</span><span class="o">.</span><span class="n">negotiating</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_wont</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mudproto.telnet.TelnetProtocol.write">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mudproto.telnet.TelnetProtocol.write" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Writes data to peer.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data</code></td>
        <td><code>bytes</code></td>
        <td><p>The bytes to be written.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mudproto\telnet.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">_writer</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright © 2021 Nick Stockton
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56a63758.min.js"></script>
      
        <script src="../../search/main.js"></script>
      
    
  </body>
</html>