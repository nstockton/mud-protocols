# Apply to all files without commiting:
# python -B -m pre_commit run --all-files
# Update this file:
# python -B -m pre_commit autoupdate
exclude: '^$'
fail_fast: false
repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.1.0
    hooks:
      - id: check-case-conflict
        stages: [commit]
      - id: check-toml
        stages: [commit]
      - id: check-yaml
        stages: [commit]
      - id: fix-byte-order-marker
        stages: [commit]
      - id: name-tests-test
        args: ["--django"]
        stages: [commit]
      - id: requirements-txt-fixer
        stages: [commit]
      - id: trailing-whitespace
        stages: [commit]
  - repo: local
    hooks:
      - id: unittest
        name: UnitTest
        args: ["--failfast"]
        stages: [commit]
        language: system
        entry: "python -B -m coverage run -m unittest"
        types: [python]
        pass_filenames: false
      - id: isort
        name: ISort
        stages: [commit]
        language: system
        entry: "python -B -m isort"
        types: [python]
      - id: tan
        name: Tan
        stages: [commit]
        language: system
        entry: "python -B -m black"
        types: [python]
      - id: flake8
        name: Flake8
        stages: [commit]
        language: system
        entry: "python -B -m pflake8"
        types: [python]
      - id: mypy
        name: MyPy
        stages: [commit]
        language: system
        entry: "python -B -m mypy"
        types: [python]
        pass_filenames: false
      - id: mkdocs
        name: MKDocs
        stages: [commit]
        language: system
        entry: "python -B -m mkdocs build --clean --strict"
        types_or: [markdown, python]
        pass_filenames: false
      - id: coverage
        name: Coverage
        stages: [push]
        language: system
        entry: "python -B -m coverage report"
        types: [python]
        pass_filenames: false
